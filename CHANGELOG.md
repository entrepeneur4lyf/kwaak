# Changelog

All notable changes to this project will be documented in this file.

## [0.14.1] - 2025-03-07

### 🐛 Bug Fixes

- Set Ollama embedding model correctly during onboarding (#396)
- Useful error instead of panic when dockerfile not found (#400)

### ⚙️ Miscellaneous Tasks

- Remove rg/fg from onboarding and add warning for Ollama (#395)
- Remove `lazy_static`
- Update swiftide and clean up deps
- Use lld for faster local docker builds (#401)
- *(swe)* Update recorded kwaak version

<!-- generated by git-cliff -->
## [0.14.0] - 2025-03-05

### 🚀 Features

- Faster docker builds with buildkit
- Check for updates on boot with a more compact header (#380)
- Reinject original prompt in summarizer (#374)
- [**breaking**] Opt-out of any tool (#378)
- Support storing `kwaak.toml` in `.config/kwaak.toml` (#384)
- [**breaking**] Rework tool configuration to support Opt-in as well (#387)
- Fix github issues with `/github fix <issue>` and enjoy the show (#373)

### 🐛 Bug Fixes

- *(build)* Compile time recursion limit back to default (#379)
- Quick test tools in the docker executor (#372)
- Do not wait for splash if done indexing
- Flaky test should account for ordering

### 💼 Other

- Optimize docker build time (#370)

### 🚜 Refactor

- Remove Uuid from command responses and implement default members (#386)

<!-- generated by git-cliff -->
## [0.13.0] - 2025-03-01

### 🚀 Features

- *(agent)* Better task focus with improved summarizer (#365)

### 🐛 Bug Fixes

- Prompt so that commit messages are (way more) consistent (#366)

<!-- generated by git-cliff -->
## [0.12.0] - 2025-02-28

### 🚀 Features

- Opt-out commit message generation (#359)

### 🐛 Bug Fixes

- Respect skip indexing when running headless (#360)
- *(tracing)* Fix broken otel because I cannot read docs (#363)
- Default to repository name as project name; fallback to current dir (#362)

### ⚙️ Miscellaneous Tasks

- *(swebench)* Clean up container if exists and ruff up the swebench (#356)

<!-- generated by git-cliff -->
## [0.11.2] - 2025-02-28

### 🐛 Bug Fixes

- Ensure tui logger starts properly after tui when defaulting (#344)
- *(deps)* Pin arrow to working version in Swiftide and update lancedb

### 📚 Documentation

- Add instructions for Arch Linux (#357)

### 🎨 Styling

- Don't use dark grey and dim together (#343)

### ⚙️ Miscellaneous Tasks

- Add tracing to primary startup methods and functions (#347)
- Faster local Dockerfile for quicker experimentation (#346)
- Fix typo (#349)
- Update to rust 2024 edition (#340)
- Revert to 2021 edition until analyzer supports 2024
- Clippy like its 2021

<!-- generated by git-cliff -->
## [0.11.1] - 2025-02-26

### 🐛 Bug Fixes

- Ignore symlink errors in context building and provide better errors

### 🚜 Refactor

- Simplify db code (#339)

### 📚 Documentation

- Update README
- Fix typos
- Clarify interaction in readme
- Add binstall to readme

### ⚙️ Miscellaneous Tasks

- Allow retrieving the command tx from the command handler

<!-- generated by git-cliff -->
## [0.11.0] - 2025-02-25

### 🚀 Features

- Add support for Claude Sonnet 3.7 (#323)
- Add support for azure openapi configuration (#270)
- User friendly generated commit messages (#321)
- SWE-bench test harness (#297)
- Command to remove failed/unsuccesful SWE-bench results (#319)
- Log and then ignore errors when indexing
- Agent sessions with multiple agents in a single chat (#245)
- Significant improvements to Chain-of-Thought prompts  (#334)

### 🐛 Bug Fixes

- Ensure debug error is in logs when running agent
- Anthropic works a lot more smoothly now
- Handle indexing invalid utf-8 files gracefully
- Do not include system prompt when summarizing and skip summary if agent stopped (#320)
- Only enable the tui logger if the tui is enabled
- *(anthropic)* Remove tool uses when summarizing context; fixes breaking issue (#329)

### 📚 Documentation

- Update session documentation in ARCHITECTURE.md (#333)

### ⚙️ Miscellaneous Tasks

- Update Dockerfile rust version (#314)
- *(ci)* Add PR linting
- Update own dockerfile to 1.85
- Add `just` shortcut for running swe

<!-- generated by git-cliff -->
## [0.10.0] - 2025-02-19

### 🚀 Features

- Improve rate and context limit handling for OpenAI and OpenRouter with configurable backoff (#298)
- Print error messages when kwaak encounters an unrecoverable error
- Allow tuning conversation summary frequency for dealing with smaller context windows (#299)
- Backoff for Anthropic (#304)

### 🐛 Bug Fixes

- Image name should always be lowercase
- Garbage collection improvements and fixes (#309)

### 📚 Documentation

- Clarify anthropic support

<!-- generated by git-cliff -->
## [0.9.1] - 2025-02-13

### 🚀 Features

- *(ci)* Run tests on macos and ubuntu (#291)
- Further improve errors from docker executor
- *(swiftide)* Auto retry tools and several anthropic improvements

### 🐛 Bug Fixes

- Update executor with improved error handling and cross platform fixes

### 📚 Documentation

- Update README

<!-- generated by git-cliff -->
## [0.9.0] - 2025-02-11

### 🚀 Features

- Add Solidity support
- Simplify docker with new executor (#278)
- Anthropic Claude support (#287)

### 🐛 Bug Fixes

- Cache and storage should be per project (#283)

<!-- generated by git-cliff -->
## [0.8.2] - 2025-02-09

### 🚀 Features

- Improve line edits and add line editing evaluation (#235)
- Support custom constraints for an agent (#274)
- Optionally hide top header in UI (#275)

### 🐛 Bug Fixes

- *(tracing)* Only override the OTEL service name if it is not already set (#224)

### ⚙️ Miscellaneous Tasks

- Fmt

<!-- generated by git-cliff -->
## [0.8.1] - 2025-02-03

### 🚀 Features

- Support many LLMs via OpenRouter (#261)
- Embeddings without an external provider via FastEmbed (#262)
- Allow running `init` on different filenames (#266)
- Onboarding flow improvements (#265)

### 📚 Documentation

- *(README)* Slower demo

<!-- generated by git-cliff -->
## [0.8.0] - 2025-01-29

### 🚀 Features

- Add automatic message tailing to chat interface (#237)
- Add dirty repository check with --allow-dirty flag (#243)

### 🐛 Bug Fixes

- Add back read file tool to `whole` edit mode
- Only show chat commands help if the screen is big enough
- Do not allow sending empty messages to agents

### 📚 Documentation

- *(README)* Improved demo

<!-- generated by git-cliff -->
## [0.7.0] - 2025-01-28

### 🚀 Features

- Opt-out of auto pushing to remote and pull requests (#232)
- Opt-out of automatically committing to git (#239)
- Reworked, opt-in line editing (#234)

### 🐛 Bug Fixes

- Disable line edits for now (#238)

### 🚜 Refactor

- Add support for experimenting with multiple agents (#231)

<!-- generated by git-cliff -->
## [0.6.1] - 2025-01-25

### 🐛 Bug Fixes

- HOTFIX openai api key was improperly filled down stream

<!-- generated by git-cliff -->
## [0.6.0] - 2025-01-24

### 🚀 Features

- Add ctrl+enter and shift+enter as shortcuts to send a message (#219)
- Adjust arrow key behavior in chat input (#220)
- Wrap input lines neatly when chatting with an agent (#226)
- Enable overwriting config with env variables or a kwaak.local.toml (#222)
- Use the git diff to steer on test and coverage results (#229)

### 🐛 Bug Fixes

- *(ci)* Remove rust cache
- *(tracing)* Run otel in http mode if enabled (#218)
- Local docker executor now returns NonZeroExit correctly on file not found
- *(tools)* Allow for block edit to also insert new lines (#227)
- Disable ultra verbose ui event logging on debug

### ⚙️ Miscellaneous Tasks

- Add persistance to jaeger in compose
- Ensure the are no dangling trace spans

<!-- generated by git-cliff -->
## [0.5.0] - 2025-01-23

### 🚀 Features

- Guided onboarding (#212)
- Git owner and repo name are now optional (#216)
- Human readable branch names via LLM (#195)

### 🐛 Bug Fixes

- Vendor ssl in linux builds for now
- *(ci)* Fix deletion detection GC test on CI (#214)

### 📚 Documentation

- Update README tagline (#210)
- *(README)* Update copy on configuration

### 🧪 Testing

- Improve test coverage for tools (#211)

### ⚙️ Miscellaneous Tasks

- When running kwaak locally use nightly for coverage (#175)

<!-- generated by git-cliff -->
## [0.4.0] - 2025-01-21

### 🚀 Features

- Manually retry the last completion (#192)

### 🐛 Bug Fixes

- Various UI improvements (#207)

### ⚙️ Miscellaneous Tasks

- Fix several typos in system prompt (#202)

<!-- generated by git-cliff -->
## [0.3.3] - 2025-01-20

### 🚀 Features

- Enable agent to replace small blocks in files instead of writing full (#197)

### 🐛 Bug Fixes

- Exclude .git/ from file search and initial overview (#194)
- Fixes occasional parse errors and other tool call weirdness (#199)

### 🚜 Refactor

- *(frontend)* Modularize chat_mode with separate widgets (#193)

<!-- generated by git-cliff -->
## [0.3.2] - 2025-01-19

### 🚀 Features

- Add Golang support (#189)
- Test and coverage commands are now optional

### 🐛 Bug Fixes

- *(ci)* Reduce test jobs in CI (#187)
- Fix multiple reliability issues with docker (#172)

<!-- generated by git-cliff -->
## [0.3.1] - 2025-01-16

### 🐛 Bug Fixes

- /quit should properly quit the app

<!-- generated by git-cliff -->
## [0.3.0] - 2025-01-16

### 🚀 Features

- Allow viewing the git diff from an agent and pulling changes to a local branch (#159)
- Add /help and show a helpful message if the first chat is still empty (#160)
- Github token is now optional (#163)
- *(config)* [**breaking**] Simplify configuration for better user errors (#168)

### 🐛 Bug Fixes

- *(tools)* Accidental regexes from llm in code search should not lead to message overflow
- *(ci)* Add rust cache and clean up disk (#161)
- Improve test consistency and remove testing feature flag (#164)
- *(docker)* Show build errors from docker if the image has errors
- *(ci)* Fix pipelines (#169)

### 🚜 Refactor

- Rework command handling (#156)

### 📚 Documentation

- *(README)* Move how does it work above the config section
- *(README)* Update TOC in readme (#155)
- *(README)* Updated QA in line with community feedback <3 (#166)

<!-- generated by git-cliff -->
## [0.2.0] - 2025-01-12

### 🚀 Features

- *(ci)* Announce new releases to discord (#141)
- Ollama support! (#147)

### 🐛 Bug Fixes

- After clearing the cache app should self-heal (#142)
- Handle breaking, non-panic errors gracefully with more informative output (#144)
- *(docker)* Fix socket connection errors when setting up docker (#148)

### 📚 Documentation

- Render demo in higher font size and trim terminal start/stop
- Trim waiting times from demo and up font size (#137)
- Trim the last couple of frames of the demo and slightly larger font
- *(README)* Update blog posts
- Update README.md (#138)
- Enhance README with OpenAI and Ollama Configuration Details (#146)
- Update readme with all configuration settings (#151)

<!-- generated by git-cliff -->
## [0.1.12] - 2025-01-09

### 🚀 Features

- Use llvm cov for speed internally with nextest (#132)

### 🐛 Bug Fixes

- *(ci)* Ensure libxcb is installed in release
- Ignore hidden and case with file and code search (#130)
- *(ci)* Use tarpaulin instead of llvm-cov for coverage (#131)
- *(ci)* Skip linux aarm build in release (#129)

<!-- generated by git-cliff -->
## [0.1.11] - 2025-01-08

### 🚀 Features

- Snapshot ui tests (#108)
- Add pretty formatting for new tools (#117)
- Refute changing branches and add reset file tool (#118)
- Small prompt improvements (#124)
- Implement /copy command to use copypasta crate (#114)

### 🐛 Bug Fixes

- Change quit keybinding to Ctrl+Q and update documentation (#111)
- Truncate chat titles to 30 characters in rename_chat function (#113)
- Use cancellation token for stopping agents (#116)
- Delete chat should not panic on index out of bounds (#121)
- Use rendered linecount fixing wrap overflow (#122)
- Downtune plan prompting
- Add copypasta deps to internal dockerfile

### 💼 Other

- Committed changes after completion

### 📚 Documentation

- Add QA on missing default docker socket

### ⚙️ Miscellaneous Tasks

- Update swiftide (#110)
- Add coverage workflow

<!-- generated by git-cliff -->
## [0.1.10] - 2025-01-06

### 🚀 Features

- Show message status with nice icons (#107)
- Deny opening more than one kwaak on a project

### 🐛 Bug Fixes

- Fix overflow in scroll to end
- Print instead of dbg that otel is enabled
- Run init before loading config (#103)
- Just keep the last 10 lines in view when scrolling and increase scroll speed
- Escape any jinja curlies if they appear in a summarized tool
- Abort running agents

### 📚 Documentation

- Update readme and demo
- Fix demo in readme
- Format QA better

### ⚙️ Miscellaneous Tasks

- Enable otel in own config
- Run fmt in local lint and fix even if clippy failed
- Update deps (#104)

<!-- generated by git-cliff -->
## [0.1.9] - 2025-01-05

### 🚀 Features

- Refactor CLI to Use Subcommands Instead of --mode (#95)
- Make `otel` Feature Contingent on Feature Flag and Configuration (#97)
- Add conventional commits guidelines to pull request tool description (#99)
- Add /delete_chat command (#100)
- Enhance Garbage Collection to Handle Removed Files Since Last Index (#96)
- Give chat a pretty name on initial message (#101)

### ⚙️ Miscellaneous Tasks

- Add debug logs and backtrace to own config

<!-- generated by git-cliff -->
## [0.1.8] - 2025-01-04

### 🐛 Bug Fixes

- RuntimeSettings#from_db available in release build

<!-- generated by git-cliff -->
## [0.1.7] - 2025-01-04

### 🚀 Features

- Update init instructions
- Support git@ urls for remotes (#71)
- Pre-indexing garbage collection (#79)
- Index markdown in the project (#81)
- Tune context generation (#83)
- Prettier tool formatting (#87)
- Uniform uuid for branch/chat/docker and display subtly (#86)
- Add endless mode for headless (#91)
- *(tools)* Agents can now search code on github and fetch urls (like from github) (#88)
- Tool prompt tuning to deal with lazy file writes
- Prompt for not removing existing comments and remove unused code
- Instruct for considering excisting functionality

### 🐛 Bug Fixes

- Accept non zero exit when reading files (#72)
- Remove message history from PR for now as it gets too big
- *(tracing)* Ensure all spans are captured correctly with sane defaults (#78)
- Improve tool prompts
- Automatically index lancedb after indexing code (#80)
- Use fd with full path for more consistent behaviour

### 📚 Documentation

- *(README)* Update install instructions (#68)

### ⚙️ Miscellaneous Tasks

- Update Rust in dockerfile
- Update swiftide and use external docker executor (#92)

<!-- generated by git-cliff -->
## [0.1.6] - 2024-12-24

### 🚀 Features

- *(ci)* Add homebrew to release pipeline

### 🐛 Bug Fixes

- Add `make` installation to Dockerfile (#56)
- Container can be both exiting and removing in tests (#57)
- Explicitly prompt for goal in conversation summary
- Truncate tool output for PRs (#66)
- Random suffix on docker containers fixes flaky tests (#63)

### 📚 Documentation

- *(README)* Update installation instructions
- Add demo.gif to readme (#65)
- *(README)* Faster edited demo
- *(README)* Fix CI badge

<!-- generated by git-cliff -->
## [0.1.5] - 2024-12-20

### 🐛 Bug Fixes

- Ensure dist build for all targets works (#53)

<!-- generated by git-cliff -->
## [0.1.4] - 2024-12-20

### 🐛 Bug Fixes

- *(ci)* Use correct git token

<!-- generated by git-cliff -->
## [0.1.3] - 2024-12-20

### 🐛 Bug Fixes

- *(ci)* Add token to checkout as well and remove pr trigger
- *(ci)* Add rust cache

<!-- generated by git-cliff -->
## [0.1.2] - 2024-12-20

### 🚀 Features

- The best splash screen (#46)

### 🐛 Bug Fixes

- *(ci)* Publish builds on release PR
- *(ci)* Include libssl-dev in build

### 📚 Documentation

- *(README)* More copy improvements (#49)

<!-- generated by git-cliff -->
## [0.1.1] - 2024-12-20

### 🚀 Features

- Bonkers UX Improvements (#45)

### 📚 Documentation

- Update readme copy
- Readme copy update
- *(README)* Update badges
- Reference bosun.ai in the readme

### ⚙️ Miscellaneous Tasks

- Add license

<!-- generated by git-cliff -->
